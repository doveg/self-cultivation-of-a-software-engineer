
常用 linux 命令的使用

	
一、文件系统的管理
	
	tips:输入命令的时候要常用 tab 键来补全

	ls 查看目录信息 (ls /) 
		ls -l 等价于 ll <l 是 L 的小写，不是数字 1>
	路径的表示方法有“相对”和“绝对”
	比如如果当前所处目录为 /home/renwoxing，要查看/home 目录下的信息，可以有两种方法：
	ls ../
	ls /home

	pwd 查看当前所处目录的绝对路径 
	cd 切换目录 (cd /) , 如果不带参数则切换到用户主目录 ~

	mkdir 创建文件夹
	mkdir -p a/b/c 如果要创建的文件夹的父目录不存在，则自动创建

	rmdir 删除空文件夹 (只能删除空文件夹)
	rm -r /a/b (删除非空文件夹)
	删除文件
	rm filename (rm -r 删除文件夹 rm -rf 强制删除文件或文件夹)

	创建文件
	touch a.avi 创建一个空文件
	vi blabla.txt 用文本编辑器编辑一个文件并且保存
	echo "angelababy,zhen de hen xihuan ni" > qingshu.txt 把左边的输出放到右边的文件里去 

	移动文件 修改文件名
	mv a/wenjian1.txt b/file1.txt (移动文件的同时还修改了文件名)

	拷贝文件
	cp srcFile destFile

	查看文本文件内容
	cat wodeqingshu.txt
	more wodeqingshu.txt 可以分页看 (翻页：空格, 往回翻：b，退出： q 或者 Ctrl+C) 
	less wodeqingshu.txt 不仅可以分页，还可以方便地搜索，回翻等操作 (翻页：空格, 往回翻：↑, 往下翻:↓, 退出：q) 

	tail -10 wodeqingshu.txt 查看文件的尾部的 10 行
	程序打出的日志在生产实践中具有非凡的 debug 的意义
	tail -f user.log 实时刷新显示文件的尾部

	head -20 wodeqingshu.txt 查看文件的头部 20 行


二、权限管理

	linux 系统中对文件权限的描述机制：
		d r w x r w x r - x
		所有者 所属组 其他人
		可以表示为二进制： 111 111 101
		也可以表示为十进制： 7 7 5
	
	修改权限
		chmod u+rwx file 为 file 添加或取消所属用户的权限
			(u 代表所属用户，o 代表其他用户，g 代表所属组的成员用户)
		chmod 567 file 用数字也可以表示权限 
			5 ---> 101 ---> r-x
	
	修改文件的所有者 owner (只能由 root 权限才能操作) 
		chown root:root file 将 file 的所有者改成 hadoop 用户，所属组改成 hadoop 组
	
	上级目录的权限对本级文件或者文件夹的操作有约束

三、用户管理
	
	添加用户
		useradd username
		必须设置密码才能正常登陆 passwd 0830

	删除用户
		userdel yun12 ----这样删除的时候，用户的主目录会被保留
		userdel -r itcast -----删除用户的同时删除用户的主目录

	修改用户属性
		usermod -l itcast itcast0508 将 itcast0508 的登陆名改为 itcast
		usermod -g root itcast 将 itcast 的组改为 root 组
		usermod -G hadoop,hellogrp itcast 给 itcast 添加两个组 hadoop,root
		usermod -d /home/itcast itcast 将 itcast0830 的主目录改成/home/itcast
		 (要事先创建 itcast 目录，并且拷入环境变量文件) 
	
	修改用户的密码
		passwd itcast0830

	添加用户组
		groupadd heros

	删除用户组
		groupdel beauties

	修改用户组属性
		groupmod 

	查看当前登陆者的身份
		whoami
	
	查看当前用属的组
		groups
	
	
四、常见系统管理 (凡是涉及到修改，就一定要用 root 权限)
	
	注意：
		轻易不要使用 su 去切换到 root 的身份
		普通用户使用 sudo 来执行 root 权限的命令
		例如：
			将 ys 用户添加到 sudoers 文件中去 vi /etc/sudoers
			root ALL=(ALL) ALL
			ys ALL=(ALL) ALL
			保存时 使用 wq!！是强制保存

	磁盘空间信息查看
		df -h 查看磁盘空间状态信息
		du -sh * 查看指定目录下所有子目录和文件的汇总大小 
	
	进程信息查看 
		free 查看内存使用状况
		top 查看实时刷新的系统进程信息

		ps -ef 查看系统中当前瞬间的进程信息快照
		ps -ef | grep myshell.sh 搜索 myshell 进程的信息
		kill -9 pid 杀掉进程 (-9 表示强制杀死) 
	
	
五、文件归档压缩 (1：打包--归档； 2：压缩)
	
	1、归档
		tar -cvf testdir.tar testdir/
		
	2、压缩
	
		gzip testdir.tar 

		gzip file
		bzip file 

		tar -czvf testdir.tar.gz testdir/
		tar -xzvf testdir.tar.gz 解压到当前目录下
		tar -xzvf testdir.tar.gz -C Downloads/ 解压到指定的 Downloads 目录下
	
六、网络管理
	
	修改 ip 地址的配置
		sudo vi /etc/sysconfig/network-scripts/ifcfg-eth0 修改该配置文件即可改 ip 地址
			或者在 root 权限下用 setup 指令通过一个带提示的伪图形界面来修改
	
	查看 ip 地址
		fconfig
	
	修改主机名
		sudo vi /etc/sysconfig/network 修改其中的 hostname 配置项
			要想立即生效 可以执行指令 hostname nidezhujiming 
	
		HOSTNAME=yun12-01
	
	管理内网的"主机名---ip 地址"本地映射
		sudo vi /etc/hosts
		192.168.2.250 yun12-01
	
	重启网络服务
		root 权限下 service network restart 
		关闭防火墙服务 service iptables stop
		关闭防火墙自动启动 chkconfig iptables off
	
	修改系统的默认启动级别
		vi /etc/inittab
			# 0 - halt (Do NOT set initdefault to this)
			# 1 - Single user mode
			# 2 - Multiuser, without NFS (The same as 3, if you do not have networking)
			# 3 - Full multiuser mode
			# 4 - unused
			# 5 - X11
			# 6 - reboot (Do NOT set initdefault to this)
			#
			id:3:initdefault:
			~
		用 level 3 就启动全功能状态的字符界面 
	
		在命令行模式下，用 startx 可以手动启动图形界面 (在服务器上操作)
	
	查看当前的进程连接网络的信息
		netstat -nltp 

七、常用工具指令
	wc 统计文本信息 (行数，词数，字符数) 
	date 查看或者修改系统的日期和时间
	echo 输出字符串或者变量的值
	
	vi linux 系统中最通用的文本编辑器
	vi hello.world 进入文件编辑
		进去之后处于非编辑模式，此时，要按一个 i 进入 insert 模式
		在 insert 模式下，可以跟普通文本编辑器一样编辑内容
		编辑完成之后，先按 Esc 退出 insert 模式，进入非编辑模式
		然后再按 ：进入底行命令模式，在底行命令中敲入 wq 并回车，即可保存
		 (保存文件的另一种模式： 按 Esc 退出 insert 模式，然后直接按快捷键保存―― shift + zz) 
		如果不保存，底行命令就用 q! 
	
八、linux 中的软件安装 
	jdk
		将安装包解压到你的安装路径下
		然后修改环境变量 sudo vi /etc/profile
		然后 source /etc/profile 来生效
	tomcat
	Eclipse
	
	mysql
	redhat 公司的 RPM 方式的包管理 也是很常用的软件包管理器
	
	rpm -qa | grep mysql
	sudo rpm -e mysql-libs-5.1.66-2.el6_3.i686 --nodeps
	sudo rpm -ivh MySQL-server-5.1.73-1.glibc23.i386.rpm 
	
	/usr/bin/mysql_secure_installation 配置 数据库服务器

	第三方使用 sftp 上传文件 alt+p
	
	halt 关机 reboot 重启
	
	
	
Linux基础知识大科普
	一 从认识操作系统开始
		1.1 操作系统简介
			我通过以下四点介绍什么操作系统：
				* 操作系统（Operation System，简称OS）是管理计算机硬件与软件资源的程序，是计算机系统的内核与基石；
				* 操作系统本质上是运行在计算机上的软件程序 ；
				* 为用户提供一个与系统交互的操作界面 ；
				* 操作系统分内核与外壳（我们可以把外壳理解成围绕着内核的应用程序，而内核就是能操作硬件的程序）。

		1.2 操作系统简单分类
			1.Windows: 目前最流行的个人桌面操作系统 ，不做多的介绍，大家都清楚。
			2.Unix： 最早的多用户、多任务操作系统 .按照操作系统的分类，属于分时操作系统。Unix 大多被用在服务器、工作站，现在也有用在个人计算机上。它在创建互联网、计算机网络或客户端/服务器模型方面发挥着非常重要的作用。
			3.Linux: Linux是一套免费使用和自由传播的类Unix操作系统.Linux存在着许多不同的Linux版本，但它们都使用了 Linux内核 。Linux可安装在各种计算机硬件设备中，比如手机、平板电脑、路由器、视频游戏控制台、台式计算机、大型机和超级计算机。严格来讲，Linux这个词本身只表示Linux内核，但实际上人们已经习惯了用Linux来形容整个基于Linux内核，并且使用GNU 工程各种工具和数据库的操作系统。
	
	二 初探Linux
		2.1 Linux简介
			我们上面已经介绍到了Linux，我们这里只强调三点。

				* 类Unix系统： Linux是一种自由、开放源码的类似Unix的操作系统
				* Linux内核： 严格来说，Linux这个词本身只表示Linux内核
				* Linux之父： 一个编程领域的传奇式人物。他是Linux内核的最早作者，随后发起了这个开源项目，担任Linux内核的首要架构师与项目协调者，是当今世界最著名的电脑程序员、黑客之一。他还发起了Git这个开源项目，并为主要的开发者。

		2.2 Linux诞生简介

			* 1991年，芬兰的业余计算机爱好者Linus Torvalds编写了一款类似Minix的系统（基于微内核架构的类Unix操作系统）被ftp管理员命名为Linux 加入到自由软件基金的GNU计划中;
			* Linux以一只可爱的企鹅作为标志，象征着敢作敢为、热爱生活。

		2.3 Linux的分类
			Linux根据原生程度，分为两种：

				1. 内核版本： Linux不是一个操作系统，严格来讲，Linux只是一个操作系统中的内核。内核是什么？内核建立了计算机软件与硬件之间通讯的平台，内核提供系统服务，比如文件管理、虚拟内存、设备I/O等；
				2. 发行版本： 一些组织或公司在内核版基础上进行二次开发而重新发行的版本。Linux发行版本有很多种（ubuntu和CentOS用的都很多，初学建议选择CentOS），如下图所示：

	三 Linux文件系统概览
		3.1 Linux文件系统简介
			在Linux操作系统中，所有被操作系统管理的资源，例如网络接口卡、磁盘驱动器、打印机、输入输出设备、普通文件或是目录都被看作是一个文件。
			也就是说在LINUX系统中有一个重要的概念：一切都是文件。其实这是UNIX哲学的一个体现，而Linux是重写UNIX而来，所以这个概念也就传承了下来。在UNIX系统中，把一切资源都看作是文件，包括硬件设备。UNIX系统把每个硬件都看成是一个文件，通常称为设备文件，这样用户就可以用读写文件的方式实现对硬件的访问。
		3.2 文件类型与目录结构
			Linux支持5种文件类型 ：
			Linux的目录结构如下：
			Linux文件系统的结构层次鲜明，就像一棵倒立的树，最顶层是其根目录：
			常见目录说明：

				* /bin： 存放二进制可执行文件(ls,cat,mkdir等)，常用命令一般都在这里；
				* /etc： 存放系统管理和配置文件；
				* /home： 存放所有用户文件的根目录，是用户主目录的基点，比如用户user的主目录就是/home/user，可以用~user表示；
				* /usr ： 用于存放系统应用程序；
				* /opt： 额外安装的可选应用程序包所放置的位置。一般情况下，我们可以把tomcat等都安装到这里；
				* /proc： 虚拟文件系统目录，是系统内存的映射。可直接访问这个目录来获取系统信息；
				* /root：超级用户（系统管理员）的主目录（特权阶级^o^）；
				* /sbin:存放二进制可执行文件，只有root才能访问。这里存放的是系统管理员使用的系统级别的管理命令和程序。如ifconfig等；
				* /dev：用于存放设备文件；
				* /mnt：系统管理员安装临时文件系统的安装点，系统提供这个目录是让用户临时挂载其他的文件系统；
				* /boot：存放用于系统引导时使用的各种文件；
				* /lib ： 存放着和系统运行相关的库文件 ；
				* /tmp：用于存放各种临时文件，是公用的临时文件存储点；
				* /var：用于存放运行时需要改变数据的文件，也是某些大文件的溢出区，比方说各种服务的日志文件（系统启动日志等。）等；
				* /lost+found：这个目录平时是空的，系统非正常关机而留下“无家可归”的文件（windows下叫什么.chk）就在这里。

	四 Linux基本命令
		下面只是给出了一些比较常用的命令。推荐一个Linux命令快查网站，非常不错，大家如果遗忘某些命令或者对某些命令不理解都可以在这里得到解决。
		Linux命令大全：man.linuxde.net/
		4.1 目录切换命令

			* cd usr： 切换到该目录下usr目录
			* cd ..（或cd../）：切换到上一层目录
			* cd /： 切换到系统根目录
			* cd ~： 切换到用户主目录
			* cd -： 切换到上一个所在目录

		4.2 目录的操作命令（增删改查）

			1. mkdir 目录名称： 增加目录
			2. ls或者ll（ll是ls -l的缩写，ll命令以看到该目录下的所有目录和文件的详细信息）：查看目录信息
			3. find 目录 参数： 寻找目录（查）
			4. 示例：


			* 列出当前目录及子目录下所有文件和文件夹: find .
			* 在/home目录下查找以.txt结尾的文件名:find /home -name "*.txt"
			* 同上，但忽略大小写: find /home -iname "*.txt"
			* 当前目录及子目录下查找所有以.txt和.pdf结尾的文件:find . ( -name "*.txt" -o -name "*.pdf" )或find . -name "*.txt" -o -name "*.pdf"


			1. mv 目录名称 新目录名称： 修改目录的名称（改）
			2. 注意：mv的语法不仅可以对目录进行重命名而且也可以对各种文件，压缩包等进行重命名的操作。mv命令用来对文件或目录重新命名，或者将文件从一个目录移到另一个目录中。后面会介绍到mv命令的另一个用法。
			3. mv 目录名称 目录的新位置： 移动目录的位置---剪切（改）
			4. 注意：mv语法不仅可以对目录进行剪切操作，对文件和压缩包等都可执行剪切操作。另外mv与cp的结果不同，mv好像文件“搬家”，文件个数并未增加。而cp对文件进行复制，文件个数增加了。
			5. cp -r 目录名称 目录拷贝的目标位置： 拷贝目录（改），-r代表递归拷贝
			6. 注意：cp命令不仅可以拷贝目录还可以拷贝文件，压缩包等，拷贝文件和压缩包时不用写-r递归
			7. rm [-rf] 目录: 删除目录（删）
			8. 注意：rm不仅可以删除目录，也可以删除其他文件或压缩包，为了增强大家的记忆，无论删除任何目录或文件，都直接使用rm -rf 目录/文件/压缩包

		4.3 文件的操作命令（增删改查）

			1. touch 文件名称: 文件的创建（增）
			2. cat/more/less/tail 文件名称 文件的查看（查）
				* cat： 只能显示最后一屏内容
				* more： 可以显示百分比，回车可以向下一行，空格可以向下一页，q可以退出查看
				* less： 可以使用键盘上的PgUp和PgDn向上和向下翻页，q结束查看
				* tail-10 ： 查看文件的后10行，Ctrl+C结束

					1. 注意：命令 tail -f 文件
						可以对某个文件进行动态监控，
						例如tomcat的日志文件，会随着程序的运行，日志会变化，
						可以使用tail -f catalina-2016-11-11.log 监控文件的变化
					2. vim 文件： 修改文件的内容（改）
					3. vim编辑器是Linux中的强大组件，是vi编辑器的加强版，
						vim编辑器的命令和快捷方式有很多，但此处不一一阐述，大家也无需研究的很透彻，
						使用vim编辑修改文件的方式基本会使用就可以了。
					4. 在实际开发中，使用vim编辑器主要作用就是修改配置文件，下面是一般步骤：
					5. vim 文件------>进入文件----->命令模式------>按i进入编辑模式----->编辑文件------->
						按Esc进入底行模式----->输入:wq/q!
						（输入wq代表写入内容并退出，即保存；输入q!代表强制退出不保存。）
					6. rm -rf 文件： 删除文件（删）
					7. 同目录删除：熟记 rm -rf 文件 即可

		4.4 压缩文件的操作命令
			1）打包并压缩文件：
				Linux中的打包文件一般是以.tar结尾的，压缩的命令一般是以.gz结尾的。
				而一般情况下打包和压缩是一起进行的，打包并压缩后的文件的后缀名一般.tar.gz。 命令：tar -zcvf 打包压缩后的文件名 要打包压缩的文件 其中：
				z：调用gzip压缩命令进行压缩
				c：打包文件
				v：显示运行过程
				f：指定文件名
				比如：加入test目录下有三个文件分别是 :aaa.txt bbb.txt ccc.txt,如果我们要打包test目录并指定压缩后的压缩包名称为test.tar.gz可以使用命令：tar -zcvf test.tar.gz aaa.txt bbb.txt ccc.txt或：tar -zcvf test.tar.gz /test/
			2）解压压缩包：
				命令：tar [-xvf] 压缩文件
				其中：x：代表解压
				示例：
				1 将/test下的test.tar.gz解压到当前目录下可以使用命令：tar -xvf test.tar.gz
				2 将/test下的test.tar.gz解压到根目录/usr下:tar -xvf xxx.tar.gz -C /usr（- C代表指定解压的位置）
		
		4.5 Linux的权限命令
			操作系统中每个文件都拥有特定的权限、所属用户和所属组。权限是操作系统用来限制资源访问的机制，在Linux中权限一般分为读(readable)、写(writable)和执行(excutable)，分为三组。分别对应文件的属主(owner)，属组(group)和其他用户(other)，通过这样的机制来限制哪些用户、哪些组可以对特定的文件进行什么样的操作。通过 ls -l 命令我们可以查看某个目录下的文件或目录的权限
			示例：在随意某个目录下ls -l
			第一列的内容的信息解释如下：
			下面将详细讲解文件的类型、Linux中权限以及文件有所有者、所在组、其它组具体是什么？
			文件的类型：
				* d： 代表目录
				* -： 代表文件
				* l： 代表链接（可以认为是window中的快捷方式）

			Linux中权限分为以下几种：
				* r：代表权限是可读，r也可以用数字4表示
				* w：代表权限是可写，w也可以用数字2表示
				* x：代表权限是可执行，x也可以用数字1表示

			文件和目录权限的区别：
			对文件和目录而言，读写执行表示不同的意义。
			对于文件：
			对于目录：
			在linux中的每个用户必须属于一个组，不能独立于组外。在linux中每个文件有所有者、所在组、其它组的概念。
				* 所有者
				* 一般为文件的创建者，谁创建了该文件，就天然的成为该文件的所有者，用ls \ahl命令可以看到文件的所有者 也可以使用chown 用户名 文件名来修改文件的所有者 。
				* 文件所在组
				* 当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组 用ls \ahl命令可以看到文件的所有组 也可以使用chgrp 组名 文件名来修改文件所在的组。
				* 其它组
				* 除开文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组

			我们再来看看如何修改文件/目录的权限。
			修改文件/目录的权限的命令：chmod
			示例：修改/test下的aaa.txt的权限为属主有全部权限，属主所在的组有读写权限， 其他用户只有读的权限
			chmod u=rwx,g=rw,o=r aaa.txt
			上述示例还可以使用数字表示：
			chmod 764 aaa.txt
			补充一个比较常用的东西:
			假如我们装了一个zookeeper，我们每次开机到要求其自动启动该怎么办？
				1. 新建一个脚本zookeeper
				2. 为新建的脚本zookeeper添加可执行权限，命令是:chmod +x zookeeper
				3. 把zookeeper这个脚本添加到开机启动项里面，命令是：chkconfig --add zookeeper
				4. 如果想看看是否添加成功，命令是：chkconfig --list

		4.6 Linux 用户管理
			Linux系统是一个多用户多任务的分时操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。
			用户的账号一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问；另一方面也可以帮助用户组织文件，并为用户提供安全性保护。
			Linux用户管理相关命令:
				* useradd 选项 用户名:添加用户账号
				* userdel 选项 用户名:删除用户帐号
				* usermod 选项 用户名:修改帐号
				* passwd 用户名:更改或创建用户的密码
				* passwd -S 用户名 :显示用户账号密码信息
				* passwd -d 用户名: 清除用户密码
			useradd命令用于Linux中创建的新的系统用户。useradd可用来建立用户帐号。帐号建好之后，再用passwd设定帐号的密码．而可用userdel删除帐号。使用useradd指令所建立的帐号，实际上是保存在/etc/passwd文本文件中。
			passwd命令用于设置用户的认证信息，包括用户密码、密码过期时间等。系统管理者则能用它管理系统用户的密码。只有管理者可以指定用户名称，一般用户只能变更自己的密码。
		4.7 Linux系统用户组的管理
			每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理。不同Linux 系统对用户组的规定有所不同，如Linux下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。
			用户组的管理涉及用户组的添加、删除和修改。组的增加、删除和修改实际上就是对/etc/group文件的更新。
			Linux系统用户组的管理相关命令:
				* groupadd 选项 用户组 :增加一个新的用户组
				* groupdel 用户组:要删除一个已有的用户组
				* groupmod 选项 用户组 : 修改用户组的属性

		4.8 其他常用命令

			* pwd： 显示当前所在位置
			* grep 要搜索的字符串 要搜索的文件 --color： 搜索命令，--color代表高亮显示
			* ps -ef/ps aux： 这两个命令都是查看当前系统正在运行进程，两者的区别是展示格式不同。如果想要查看特定的进程可以使用这样的格式：ps aux|grep redis （查看包括redis字符串的进程）
			* 注意：如果直接用ps（（Process Status））命令，会显示所有进程的状态，通常结合grep命令查看某进程的状态。
			* kill -9 进程的pid： 杀死进程（-9 表示强制终止。）
			* 先用ps查找进程，然后用kill杀掉
			* 网络通信命令：
			* 查看当前系统的网卡信息：ifconfig
			* 查看与某台机器的连接情况：ping
			* 查看当前系统的端口使用：netstat -an
			* shutdown： shutdown -h now： 指定现在立即关机；shutdown +5 "System will shutdown after 5 minutes":指定5分钟后关机，同时送出警告信息给登入用户。
			* reboot：reboot： 重开机。reboot -w： 做个重开机的模拟（只有纪录并不会真的重开机）。 



基础部分：
	
	后台应用都会涉及到 linux 系统，应用程序的部署，运维，分布式集群，大数据，云计算
		虚拟机：虚拟出来的计算机 
		虚拟机软件：用来产生虚拟机的一个软件
	
	对服务器的管理，都是通过远程登录来进行，远程登录的常用软件有以下 3 款：
		xshell
		putty
		secureCRT ----recommend 推荐

		这些软件都是基于一种通信协议来进行远程登录：SSH 协议
		SSH 协议：
			协议要求远程登录者进行身份验证；
			有两种认证方式:
				“用户名+ 密码”机制 (默认机制) ，
				密钥机制 (需要事先配置才有) 。
	
	**如何远程登录 linux 服务器
		1、要知道目标 linux 服务器的 ip 地址
		2、要让客户端跟目标服务器两者要能联网
		3、要有一款 ssh 登录的客户端软件
		4、启动 ssh 客户端软件进行登录
	
	**登录之后的提示符：
		[renwoxing@localhost ~]$
		其中 renwoxing 是当前登陆者的用户名
		localhost 是本服务器的主机名
		~ 是表示登陆者目前所处的目录，~就是指该登陆者的主目录/home/renwoxing
	
	
	
	
	